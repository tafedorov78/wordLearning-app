{"ast":null,"code":"import axios from 'axios';\nexport default class ServerController {\n  constructor() {\n    this.url = `http://localhost:8800`;\n    axios.defaults.headers.post['Content-Type'] = 'application/json;charset=utf-8';\n    axios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n  }\n\n  async getInit() {\n    const response = await fetch('http://localhost:8800/', JSON.stringify({\n      \"action\": \"init\",\n      \"user_id\": Math.random() * 10\n    }));\n    console.log(response);\n    return response;\n  }\n\n  async post(data) {\n    try {\n      // Create request to api service\n      const req = await fetch(`http://localhost:8800/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        },\n        // format the data\n        body: JSON.stringify({\n          id: data.id,\n          foo: data.foo,\n          bar: data.bar\n        })\n      });\n      const res = await req.json(); // Log success message\n\n      console.log(res);\n    } catch (err) {\n      console.error(`ERROR: err`);\n    }\n  }\n\n  getSpin() {\n    axios.post('http://localhost:8800/', {\n      body: 'spin'\n    }).then(response => {\n      this.serverHandshake = response.data;\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/artem/Documents/development/__react/Words/words-app/src/server/ServerController.js"],"names":["axios","ServerController","constructor","url","defaults","headers","post","getInit","response","fetch","JSON","stringify","Math","random","console","log","data","req","method","body","id","foo","bar","res","json","err","error","getSpin","then","serverHandshake","catch"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,gBAAN,CAAuB;AACpCC,EAAAA,WAAW,GAAI;AACb,SAAKC,GAAL,GAAY,uBAAZ;AACAH,IAAAA,KAAK,CAACI,QAAN,CAAeC,OAAf,CAAuBC,IAAvB,CAA4B,cAA5B,IAA6C,gCAA7C;AACAN,IAAAA,KAAK,CAACI,QAAN,CAAeC,OAAf,CAAuBC,IAAvB,CAA4B,6BAA5B,IAA6D,GAA7D;AACD;;AAED,QAAMC,OAAN,GAAgB;AACd,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,wBAAD,EAA2BC,IAAI,CAACC,SAAL,CAAe;AAAC,gBAAS,MAAV;AAAiB,iBAAUC,IAAI,CAACC,MAAL,KAAgB;AAA3C,KAAf,CAA3B,CAA5B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ;AACA,WAAOA,QAAP;AACD;;AAED,QAAMF,IAAN,CAAWU,IAAX,EAAiB;AACf,QAAI;AACF;AACA,YAAMC,GAAG,GAAG,MAAMR,KAAK,CAAE,wBAAF,EAA2B;AAChDS,QAAAA,MAAM,EAAE,MADwC;AAEhDb,QAAAA,OAAO,EAAE;AAAE,0BAAe,kBAAjB;AACP,yCAA8B;AADvB,SAFuC;AAKhD;AACAc,QAAAA,IAAI,EAAET,IAAI,CAACC,SAAL,CAAe;AACnBS,UAAAA,EAAE,EAAEJ,IAAI,CAACI,EADU;AAEnBC,UAAAA,GAAG,EAAEL,IAAI,CAACK,GAFS;AAGnBC,UAAAA,GAAG,EAAEN,IAAI,CAACM;AAHS,SAAf;AAN0C,OAA3B,CAAvB;AAaA,YAAMC,GAAG,GAAG,MAAMN,GAAG,CAACO,IAAJ,EAAlB,CAfE,CAiBF;;AACAV,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACD,KAnBD,CAmBC,OAAME,GAAN,EAAW;AACVX,MAAAA,OAAO,CAACY,KAAR,CAAe,YAAf;AACD;AACF;;AAEDC,EAAAA,OAAO,GAAG;AACR3B,IAAAA,KAAK,CAACM,IAAN,CAAW,wBAAX,EAAqC;AAACa,MAAAA,IAAI,EAAE;AAAP,KAArC,EAAqDS,IAArD,CAA0DpB,QAAQ,IAAI;AACpE,WAAKqB,eAAL,GAAuBrB,QAAQ,CAACQ,IAAhC;AACD,KAFD,EAGGc,KAHH,CAGUJ,KAAD,IAAW;AAChBZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ;AACD,KALH;AAMD;;AA7CmC","sourcesContent":["import axios from 'axios'\n\nexport default class ServerController {\n  constructor () {\n    this.url = `http://localhost:8800`\n    axios.defaults.headers.post['Content-Type'] ='application/json;charset=utf-8';\n    axios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n  }\n\n  async getInit() {\n    const response = await fetch('http://localhost:8800/', JSON.stringify({\"action\":\"init\",\"user_id\":Math.random() * 10}))\n    console.log(response)\n    return response\n  }\n\n  async post(data) {\n    try {\n      // Create request to api service\n      const req = await fetch(`http://localhost:8800/`, {\n        method: 'POST',\n        headers: { 'Content-Type':'application/json',\n          'Access-Control-Allow-Origin':'*'},\n\n        // format the data\n        body: JSON.stringify({\n          id: data.id,\n          foo: data.foo,\n          bar: data.bar\n        }),\n      });\n\n      const res = await req.json();\n\n      // Log success message\n      console.log(res);\n    }catch(err) {\n      console.error(`ERROR: err`);\n    }\n  }\n\n  getSpin() {\n    axios.post('http://localhost:8800/', {body: 'spin'}).then(response => {\n      this.serverHandshake = response.data\n    })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n}"]},"metadata":{},"sourceType":"module"}